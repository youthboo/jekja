{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nconst WebGazerWrapper = ({\n  children\n}) => {\n  _s();\n  const gazeTimeout = useRef(null);\n  const currentButton = useRef(null);\n  useEffect(() => {\n    webgazer.setGazeListener((data, elapsedTime) => {\n      if (data == null) {\n        return;\n      }\n      const {\n        x: gazeX,\n        y: gazeY\n      } = data;\n\n      // ตรวจสอบว่ากำลังจ้องที่ปุ่มไหน\n      const buttons = document.querySelectorAll('.category-button, .letter-button');\n      let isGazingAtButton = false;\n      buttons.forEach(button => {\n        const rect = button.getBoundingClientRect();\n        if (gazeX >= rect.left && gazeX <= rect.right && gazeY >= rect.top && gazeY <= rect.bottom) {\n          // หากจ้องที่ปุ่ม ให้ตั้งค่า timeout\n          if (currentButton.current === button) {\n            return;\n          }\n          currentButton.current = button;\n          clearTimeout(gazeTimeout.current);\n          gazeTimeout.current = setTimeout(() => {\n            button.click(); // คลิกปุ่ม\n          }, 1000); // 1 วินาที\n          isGazingAtButton = true;\n        }\n      });\n\n      // หากเลิกจ้องที่ปุ่ม ให้เคลียร์ timeout\n      if (!isGazingAtButton) {\n        clearTimeout(gazeTimeout.current);\n        currentButton.current = null;\n      }\n    }).begin();\n    return () => {\n      webgazer.clearGazeListener();\n    };\n  }, []);\n  return children;\n};\n_s(WebGazerWrapper, \"YW1ll7bDgNJNYuTdR8wg55YyS08=\");\n_c = WebGazerWrapper;\nexport default WebGazerWrapper;\nvar _c;\n$RefreshReg$(_c, \"WebGazerWrapper\");","map":{"version":3,"names":["useEffect","useRef","WebGazerWrapper","children","_s","gazeTimeout","currentButton","webgazer","setGazeListener","data","elapsedTime","x","gazeX","y","gazeY","buttons","document","querySelectorAll","isGazingAtButton","forEach","button","rect","getBoundingClientRect","left","right","top","bottom","current","clearTimeout","setTimeout","click","begin","clearGazeListener","_c","$RefreshReg$"],"sources":["/Users/aqwerrrx/Desktop/special1/frontend/src/hooks/WebGazerWrapper.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nconst WebGazerWrapper = ({ children }) => {\n  const gazeTimeout = useRef(null);\n  const currentButton = useRef(null);\n\n  useEffect(() => {\n    webgazer.setGazeListener((data, elapsedTime) => {\n      if (data == null) {\n        return;\n      }\n\n      const { x: gazeX, y: gazeY } = data;\n\n      // ตรวจสอบว่ากำลังจ้องที่ปุ่มไหน\n      const buttons = document.querySelectorAll('.category-button, .letter-button');\n      let isGazingAtButton = false;\n\n      buttons.forEach(button => {\n        const rect = button.getBoundingClientRect();\n        if (\n          gazeX >= rect.left &&\n          gazeX <= rect.right &&\n          gazeY >= rect.top &&\n          gazeY <= rect.bottom\n        ) {\n          // หากจ้องที่ปุ่ม ให้ตั้งค่า timeout\n          if (currentButton.current === button) {\n            return;\n          }\n          \n          currentButton.current = button;\n          clearTimeout(gazeTimeout.current);\n          gazeTimeout.current = setTimeout(() => {\n            button.click(); // คลิกปุ่ม\n          }, 1000); // 1 วินาที\n          isGazingAtButton = true;\n        }\n      });\n\n      // หากเลิกจ้องที่ปุ่ม ให้เคลียร์ timeout\n      if (!isGazingAtButton) {\n        clearTimeout(gazeTimeout.current);\n        currentButton.current = null;\n      }\n    }).begin();\n    \n    return () => {\n      webgazer.clearGazeListener();\n    };\n  }, []);\n\n  return children;\n};\n\nexport default WebGazerWrapper;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,MAAMC,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAMC,WAAW,GAAGJ,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMK,aAAa,GAAGL,MAAM,CAAC,IAAI,CAAC;EAElCD,SAAS,CAAC,MAAM;IACdO,QAAQ,CAACC,eAAe,CAAC,CAACC,IAAI,EAAEC,WAAW,KAAK;MAC9C,IAAID,IAAI,IAAI,IAAI,EAAE;QAChB;MACF;MAEA,MAAM;QAAEE,CAAC,EAAEC,KAAK;QAAEC,CAAC,EAAEC;MAAM,CAAC,GAAGL,IAAI;;MAEnC;MACA,MAAMM,OAAO,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,kCAAkC,CAAC;MAC7E,IAAIC,gBAAgB,GAAG,KAAK;MAE5BH,OAAO,CAACI,OAAO,CAACC,MAAM,IAAI;QACxB,MAAMC,IAAI,GAAGD,MAAM,CAACE,qBAAqB,CAAC,CAAC;QAC3C,IACEV,KAAK,IAAIS,IAAI,CAACE,IAAI,IAClBX,KAAK,IAAIS,IAAI,CAACG,KAAK,IACnBV,KAAK,IAAIO,IAAI,CAACI,GAAG,IACjBX,KAAK,IAAIO,IAAI,CAACK,MAAM,EACpB;UACA;UACA,IAAIpB,aAAa,CAACqB,OAAO,KAAKP,MAAM,EAAE;YACpC;UACF;UAEAd,aAAa,CAACqB,OAAO,GAAGP,MAAM;UAC9BQ,YAAY,CAACvB,WAAW,CAACsB,OAAO,CAAC;UACjCtB,WAAW,CAACsB,OAAO,GAAGE,UAAU,CAAC,MAAM;YACrCT,MAAM,CAACU,KAAK,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;UACVZ,gBAAgB,GAAG,IAAI;QACzB;MACF,CAAC,CAAC;;MAEF;MACA,IAAI,CAACA,gBAAgB,EAAE;QACrBU,YAAY,CAACvB,WAAW,CAACsB,OAAO,CAAC;QACjCrB,aAAa,CAACqB,OAAO,GAAG,IAAI;MAC9B;IACF,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC;IAEV,OAAO,MAAM;MACXxB,QAAQ,CAACyB,iBAAiB,CAAC,CAAC;IAC9B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO7B,QAAQ;AACjB,CAAC;AAACC,EAAA,CAnDIF,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AAqDrB,eAAeA,eAAe;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}