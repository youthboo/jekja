{"ast":null,"code":"var _s = $RefreshSig$();\n// hooks/useWebGazer.js\nimport { useState, useEffect, useRef, useCallback } from 'react';\nconst useWebGazer = onGaze => {\n  _s();\n  const [webgazerReady, setWebgazerReady] = useState(false);\n  const webgazerInstance = useRef(null);\n  const gazeTimers = useRef({});\n  const initializeWebGazer = useCallback(async () => {\n    try {\n      await window.webgazer.setRegression('ridge').setTracker('clmtrackr').setGazeListener(onGaze).begin();\n      webgazerInstance.current = window.webgazer;\n      setWebgazerReady(true);\n\n      // ตรวจสอบการซ่อนวิดีโอ\n      window.webgazer.showVideo(true);\n      window.webgazer.showFaceOverlay(true);\n      window.webgazer.showFaceFeedbackBox(true);\n    } catch (error) {\n      console.error('Failed to initialize webgazer:', error);\n    }\n  }, [onGaze]);\n  useEffect(() => {\n    initializeWebGazer();\n    return () => {\n      if (webgazerInstance.current && typeof webgazerInstance.current.end === 'function') {\n        try {\n          webgazerInstance.current.end();\n        } catch (error) {\n          console.error('Error while ending webgazer:', error);\n        }\n      }\n    };\n  }, [initializeWebGazer]);\n  return {\n    webgazerReady,\n    webgazerInstance,\n    gazeTimers\n  };\n};\n_s(useWebGazer, \"SC5/v22JtkWN/gOUpajYWhCh/v4=\");\nexport default useWebGazer;","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useWebGazer","onGaze","_s","webgazerReady","setWebgazerReady","webgazerInstance","gazeTimers","initializeWebGazer","window","webgazer","setRegression","setTracker","setGazeListener","begin","current","showVideo","showFaceOverlay","showFaceFeedbackBox","error","console","end"],"sources":["/Users/aqwerrrx/Desktop/special1/frontend/src/hooks/useWebGazer.js"],"sourcesContent":["// hooks/useWebGazer.js\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\nconst useWebGazer = (onGaze) => {\n  const [webgazerReady, setWebgazerReady] = useState(false);\n  const webgazerInstance = useRef(null);\n  const gazeTimers = useRef({});\n\n  const initializeWebGazer = useCallback(async () => {\n    try {\n      await window.webgazer.setRegression('ridge').setTracker('clmtrackr')\n        .setGazeListener(onGaze).begin();\n      webgazerInstance.current = window.webgazer;\n      setWebgazerReady(true);\n      \n      // ตรวจสอบการซ่อนวิดีโอ\n      window.webgazer.showVideo(true);\n      window.webgazer.showFaceOverlay(true);\n      window.webgazer.showFaceFeedbackBox(true);\n    } catch (error) {\n      console.error('Failed to initialize webgazer:', error);\n    }\n  }, [onGaze]);\n\n  useEffect(() => {\n    initializeWebGazer();\n\n    return () => {\n      if (webgazerInstance.current && typeof webgazerInstance.current.end === 'function') {\n        try {\n          webgazerInstance.current.end();\n        } catch (error) {\n          console.error('Error while ending webgazer:', error);\n        }\n      }\n    };\n  }, [initializeWebGazer]);\n\n  return { webgazerReady, webgazerInstance, gazeTimers };\n};\n\nexport default useWebGazer;\n"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAEhE,MAAMC,WAAW,GAAIC,MAAM,IAAK;EAAAC,EAAA;EAC9B,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAMS,gBAAgB,GAAGP,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMQ,UAAU,GAAGR,MAAM,CAAC,CAAC,CAAC,CAAC;EAE7B,MAAMS,kBAAkB,GAAGR,WAAW,CAAC,YAAY;IACjD,IAAI;MACF,MAAMS,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CACjEC,eAAe,CAACX,MAAM,CAAC,CAACY,KAAK,CAAC,CAAC;MAClCR,gBAAgB,CAACS,OAAO,GAAGN,MAAM,CAACC,QAAQ;MAC1CL,gBAAgB,CAAC,IAAI,CAAC;;MAEtB;MACAI,MAAM,CAACC,QAAQ,CAACM,SAAS,CAAC,IAAI,CAAC;MAC/BP,MAAM,CAACC,QAAQ,CAACO,eAAe,CAAC,IAAI,CAAC;MACrCR,MAAM,CAACC,QAAQ,CAACQ,mBAAmB,CAAC,IAAI,CAAC;IAC3C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC,EAAE,CAACjB,MAAM,CAAC,CAAC;EAEZJ,SAAS,CAAC,MAAM;IACdU,kBAAkB,CAAC,CAAC;IAEpB,OAAO,MAAM;MACX,IAAIF,gBAAgB,CAACS,OAAO,IAAI,OAAOT,gBAAgB,CAACS,OAAO,CAACM,GAAG,KAAK,UAAU,EAAE;QAClF,IAAI;UACFf,gBAAgB,CAACS,OAAO,CAACM,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC,OAAOF,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACtD;MACF;IACF,CAAC;EACH,CAAC,EAAE,CAACX,kBAAkB,CAAC,CAAC;EAExB,OAAO;IAAEJ,aAAa;IAAEE,gBAAgB;IAAEC;EAAW,CAAC;AACxD,CAAC;AAACJ,EAAA,CApCIF,WAAW;AAsCjB,eAAeA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}