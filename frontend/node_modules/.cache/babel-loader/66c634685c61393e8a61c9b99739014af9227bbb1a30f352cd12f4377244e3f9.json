{"ast":null,"code":"var _jsxFileName = \"/Users/aqwerrrx/Desktop/special1/frontend/src/context/WebGazerContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/WebGazerContext.js\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport useWebGazer from '../hooks/useWebGazer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WebGazerContext = /*#__PURE__*/createContext();\nexport const WebGazerProvider = ({\n  children\n}) => {\n  _s();\n  const [webgazerReady, setWebgazerReady] = useState(false);\n  const [webgazerInstance, setWebgazerInstance] = useState(null);\n  const gazeTimers = useRef({});\n  const handleGaze = useCallback(data => {\n    // Handle gaze data here\n  }, []);\n  useEffect(() => {\n    const initializeWebGazer = async () => {\n      try {\n        await window.webgazer.setRegression('ridge').setTracker('clmtrackr').setGazeListener(handleGaze).begin();\n        setWebgazerInstance(window.webgazer);\n        setWebgazerReady(true);\n        window.webgazer.showVideo(false);\n        window.webgazer.showFaceOverlay(false);\n        window.webgazer.showFaceFeedbackBox(false);\n      } catch (error) {\n        console.error('Failed to initialize webgazer:', error);\n      }\n    };\n    initializeWebGazer();\n    return () => {\n      if (webgazerInstance && typeof webgazerInstance.end === 'function') {\n        try {\n          webgazerInstance.end();\n        } catch (error) {\n          console.error('Error while ending webgazer:', error);\n        }\n      }\n    };\n  }, [handleGaze, webgazerInstance]);\n  return /*#__PURE__*/_jsxDEV(WebGazerContext.Provider, {\n    value: {\n      webgazerReady,\n      webgazerInstance,\n      gazeTimers\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(WebGazerProvider, \"pUcI18nuZP3wKGkfXIAzS2lvwwM=\");\n_c = WebGazerProvider;\nexport const useWebGazerContext = () => {\n  _s2();\n  return useContext(WebGazerContext);\n};\n_s2(useWebGazerContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"WebGazerProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","useWebGazer","jsxDEV","_jsxDEV","WebGazerContext","WebGazerProvider","children","_s","webgazerReady","setWebgazerReady","webgazerInstance","setWebgazerInstance","gazeTimers","useRef","handleGaze","data","initializeWebGazer","window","webgazer","setRegression","setTracker","setGazeListener","begin","showVideo","showFaceOverlay","showFaceFeedbackBox","error","console","end","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useWebGazerContext","_s2","$RefreshReg$"],"sources":["/Users/aqwerrrx/Desktop/special1/frontend/src/context/WebGazerContext.js"],"sourcesContent":["// src/context/WebGazerContext.js\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport useWebGazer from '../hooks/useWebGazer';\n\nconst WebGazerContext = createContext();\n\nexport const WebGazerProvider = ({ children }) => {\n  const [webgazerReady, setWebgazerReady] = useState(false);\n  const [webgazerInstance, setWebgazerInstance] = useState(null);\n  const gazeTimers = useRef({});\n\n  const handleGaze = useCallback((data) => {\n    // Handle gaze data here\n  }, []);\n\n  useEffect(() => {\n    const initializeWebGazer = async () => {\n      try {\n        await window.webgazer.setRegression('ridge').setTracker('clmtrackr')\n          .setGazeListener(handleGaze).begin();\n        setWebgazerInstance(window.webgazer);\n        setWebgazerReady(true);\n        window.webgazer.showVideo(false);\n        window.webgazer.showFaceOverlay(false);\n        window.webgazer.showFaceFeedbackBox(false);\n      } catch (error) {\n        console.error('Failed to initialize webgazer:', error);\n      }\n    };\n\n    initializeWebGazer();\n\n    return () => {\n      if (webgazerInstance && typeof webgazerInstance.end === 'function') {\n        try {\n          webgazerInstance.end();\n        } catch (error) {\n          console.error('Error while ending webgazer:', error);\n        }\n      }\n    };\n  }, [handleGaze, webgazerInstance]);\n\n  return (\n    <WebGazerContext.Provider value={{ webgazerReady, webgazerInstance, gazeTimers }}>\n      {children}\n    </WebGazerContext.Provider>\n  );\n};\n\nexport const useWebGazerContext = () => useContext(WebGazerContext);\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC1F,OAAOC,WAAW,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,eAAe,gBAAGR,aAAa,CAAC,CAAC;AAEvC,OAAO,MAAMS,gBAAgB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAMc,UAAU,GAAGC,MAAM,CAAC,CAAC,CAAC,CAAC;EAE7B,MAAMC,UAAU,GAAGd,WAAW,CAAEe,IAAI,IAAK;IACvC;EAAA,CACD,EAAE,EAAE,CAAC;EAENhB,SAAS,CAAC,MAAM;IACd,MAAMiB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,MAAMC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CACjEC,eAAe,CAACP,UAAU,CAAC,CAACQ,KAAK,CAAC,CAAC;QACtCX,mBAAmB,CAACM,MAAM,CAACC,QAAQ,CAAC;QACpCT,gBAAgB,CAAC,IAAI,CAAC;QACtBQ,MAAM,CAACC,QAAQ,CAACK,SAAS,CAAC,KAAK,CAAC;QAChCN,MAAM,CAACC,QAAQ,CAACM,eAAe,CAAC,KAAK,CAAC;QACtCP,MAAM,CAACC,QAAQ,CAACO,mBAAmB,CAAC,KAAK,CAAC;MAC5C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC;IAEDV,kBAAkB,CAAC,CAAC;IAEpB,OAAO,MAAM;MACX,IAAIN,gBAAgB,IAAI,OAAOA,gBAAgB,CAACkB,GAAG,KAAK,UAAU,EAAE;QAClE,IAAI;UACFlB,gBAAgB,CAACkB,GAAG,CAAC,CAAC;QACxB,CAAC,CAAC,OAAOF,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACtD;MACF;IACF,CAAC;EACH,CAAC,EAAE,CAACZ,UAAU,EAAEJ,gBAAgB,CAAC,CAAC;EAElC,oBACEP,OAAA,CAACC,eAAe,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEtB,aAAa;MAAEE,gBAAgB;MAAEE;IAAW,CAAE;IAAAN,QAAA,EAC9EA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B,CAAC;AAAC3B,EAAA,CA1CWF,gBAAgB;AAAA8B,EAAA,GAAhB9B,gBAAgB;AA4C7B,OAAO,MAAM+B,kBAAkB,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMxC,UAAU,CAACO,eAAe,CAAC;AAAA;AAACiC,GAAA,CAAvDD,kBAAkB;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}