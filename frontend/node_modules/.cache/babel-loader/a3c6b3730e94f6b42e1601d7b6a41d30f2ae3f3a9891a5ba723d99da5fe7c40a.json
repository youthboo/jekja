{"ast":null,"code":"var _jsxFileName = \"/Users/aqwerrrx/Desktop/special1/frontend/src/components/CalibrationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './CalibrationPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CalibrationPage = () => {\n  _s();\n  var _calibrationPoints$cu, _calibrationPoints$cu2;\n  const [calibrationPoints, setCalibrationPoints] = useState([{\n    x: 0.1,\n    y: 0.1\n  }, {\n    x: 0.9,\n    y: 0.1\n  }, {\n    x: 0.1,\n    y: 0.9\n  }, {\n    x: 0.9,\n    y: 0.9\n  }, {\n    x: 0.5,\n    y: 0.5\n  }]);\n  const [currentPoint, setCurrentPoint] = useState(0);\n  useEffect(() => {\n    const startCalibration = async () => {\n      if (window.webgazer) {\n        try {\n          await window.webgazer.setRegression('ridge').setTracker('clmtrackr').begin();\n          console.log(\"WebGazer is now tracking your gaze.\");\n          showNextCalibrationPoint();\n        } catch (error) {\n          console.error(\"Failed to start WebGazer:\", error);\n        }\n      } else {\n        console.error(\"WebGazer is not available.\");\n      }\n    };\n    startCalibration();\n    return () => {\n      if (window.webgazer) {\n        try {\n          window.webgazer.end();\n        } catch (error) {\n          console.error(\"Failed to stop WebGazer:\", error);\n        }\n      }\n    };\n  }, []);\n  const showNextCalibrationPoint = () => {\n    if (currentPoint < calibrationPoints.length) {\n      const point = calibrationPoints[currentPoint];\n      // Display the calibration point on the screen\n      // You might want to use a visual indicator like a dot or circle\n      console.log(`Look at point: (${point.x}, ${point.y})`);\n      // Move to the next point after some delay\n      setTimeout(() => setCurrentPoint(prev => prev + 1), 2000);\n    } else {\n      console.log(\"Calibration complete.\");\n      // Save calibration data and finalize setup\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calibration-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calibration-point\",\n      style: {\n        top: `${((_calibrationPoints$cu = calibrationPoints[currentPoint]) === null || _calibrationPoints$cu === void 0 ? void 0 : _calibrationPoints$cu.y) * 100}%`,\n        left: `${((_calibrationPoints$cu2 = calibrationPoints[currentPoint]) === null || _calibrationPoints$cu2 === void 0 ? void 0 : _calibrationPoints$cu2.x) * 100}%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(CalibrationPage, \"ZyyyXH4rsfXG2zjClghmckzEFjQ=\");\n_c = CalibrationPage;\nexport default CalibrationPage;\nvar _c;\n$RefreshReg$(_c, \"CalibrationPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","CalibrationPage","_s","_calibrationPoints$cu","_calibrationPoints$cu2","calibrationPoints","setCalibrationPoints","x","y","currentPoint","setCurrentPoint","startCalibration","window","webgazer","setRegression","setTracker","begin","console","log","showNextCalibrationPoint","error","end","length","point","setTimeout","prev","className","children","style","top","left","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/aqwerrrx/Desktop/special1/frontend/src/components/CalibrationPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './CalibrationPage.css';\n\nconst CalibrationPage = () => {\n  const [calibrationPoints, setCalibrationPoints] = useState([\n    { x: 0.1, y: 0.1 },\n    { x: 0.9, y: 0.1 },\n    { x: 0.1, y: 0.9 },\n    { x: 0.9, y: 0.9 },\n    { x: 0.5, y: 0.5 },\n  ]);\n  const [currentPoint, setCurrentPoint] = useState(0);\n\n  useEffect(() => {\n    const startCalibration = async () => {\n      if (window.webgazer) {\n        try {\n          await window.webgazer.setRegression('ridge').setTracker('clmtrackr').begin();\n          console.log(\"WebGazer is now tracking your gaze.\");\n          showNextCalibrationPoint();\n        } catch (error) {\n          console.error(\"Failed to start WebGazer:\", error);\n        }\n      } else {\n        console.error(\"WebGazer is not available.\");\n      }\n    };\n\n    startCalibration();\n    \n    return () => {\n      if (window.webgazer) {\n        try {\n          window.webgazer.end();\n        } catch (error) {\n          console.error(\"Failed to stop WebGazer:\", error);\n        }\n      }\n    };\n  }, []);\n\n  const showNextCalibrationPoint = () => {\n    if (currentPoint < calibrationPoints.length) {\n      const point = calibrationPoints[currentPoint];\n      // Display the calibration point on the screen\n      // You might want to use a visual indicator like a dot or circle\n      console.log(`Look at point: (${point.x}, ${point.y})`);\n      // Move to the next point after some delay\n      setTimeout(() => setCurrentPoint(prev => prev + 1), 2000);\n    } else {\n      console.log(\"Calibration complete.\");\n      // Save calibration data and finalize setup\n    }\n  };\n\n  return (\n    <div className=\"calibration-page\">\n      <div className=\"calibration-point\" style={{ top: `${calibrationPoints[currentPoint]?.y * 100}%`, left: `${calibrationPoints[currentPoint]?.x * 100}%` }}></div>\n    </div>\n  );\n};\n\nexport default CalibrationPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,qBAAA,EAAAC,sBAAA;EAC5B,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGR,QAAQ,CAAC,CACzD;IAAES,CAAC,EAAE,GAAG;IAAEC,CAAC,EAAE;EAAI,CAAC,EAClB;IAAED,CAAC,EAAE,GAAG;IAAEC,CAAC,EAAE;EAAI,CAAC,EAClB;IAAED,CAAC,EAAE,GAAG;IAAEC,CAAC,EAAE;EAAI,CAAC,EAClB;IAAED,CAAC,EAAE,GAAG;IAAEC,CAAC,EAAE;EAAI,CAAC,EAClB;IAAED,CAAC,EAAE,GAAG;IAAEC,CAAC,EAAE;EAAI,CAAC,CACnB,CAAC;EACF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EAEnDD,SAAS,CAAC,MAAM;IACd,MAAMc,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAIC,MAAM,CAACC,QAAQ,EAAE;QACnB,IAAI;UACF,MAAMD,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAACC,UAAU,CAAC,WAAW,CAAC,CAACC,KAAK,CAAC,CAAC;UAC5EC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;UAClDC,wBAAwB,CAAC,CAAC;QAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACnD;MACF,CAAC,MAAM;QACLH,OAAO,CAACG,KAAK,CAAC,4BAA4B,CAAC;MAC7C;IACF,CAAC;IAEDT,gBAAgB,CAAC,CAAC;IAElB,OAAO,MAAM;MACX,IAAIC,MAAM,CAACC,QAAQ,EAAE;QACnB,IAAI;UACFD,MAAM,CAACC,QAAQ,CAACQ,GAAG,CAAC,CAAC;QACvB,CAAC,CAAC,OAAOD,KAAK,EAAE;UACdH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAClD;MACF;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,wBAAwB,GAAGA,CAAA,KAAM;IACrC,IAAIV,YAAY,GAAGJ,iBAAiB,CAACiB,MAAM,EAAE;MAC3C,MAAMC,KAAK,GAAGlB,iBAAiB,CAACI,YAAY,CAAC;MAC7C;MACA;MACAQ,OAAO,CAACC,GAAG,CAAC,mBAAmBK,KAAK,CAAChB,CAAC,KAAKgB,KAAK,CAACf,CAAC,GAAG,CAAC;MACtD;MACAgB,UAAU,CAAC,MAAMd,eAAe,CAACe,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;IAC3D,CAAC,MAAM;MACLR,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;IACF;EACF,CAAC;EAED,oBACElB,OAAA;IAAK0B,SAAS,EAAC,kBAAkB;IAAAC,QAAA,eAC/B3B,OAAA;MAAK0B,SAAS,EAAC,mBAAmB;MAACE,KAAK,EAAE;QAAEC,GAAG,EAAE,GAAG,EAAA1B,qBAAA,GAAAE,iBAAiB,CAACI,YAAY,CAAC,cAAAN,qBAAA,uBAA/BA,qBAAA,CAAiCK,CAAC,IAAG,GAAG,GAAG;QAAEsB,IAAI,EAAE,GAAG,EAAA1B,sBAAA,GAAAC,iBAAiB,CAACI,YAAY,CAAC,cAAAL,sBAAA,uBAA/BA,sBAAA,CAAiCG,CAAC,IAAG,GAAG;MAAI;IAAE;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5J,CAAC;AAEV,CAAC;AAAChC,EAAA,CAzDID,eAAe;AAAAkC,EAAA,GAAflC,eAAe;AA2DrB,eAAeA,eAAe;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}